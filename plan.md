# 口笛による欧文モールス入力

## 概要

口笛でモールス信号を鳴らし、それをマイクで取得し、そしてモールス符号としてデコードし、テキストを表示したい
Webアプリとして実装します

## 処理の流れ

逐一入力を確定するのではなく、ある程度の長さの区間をみて、もっともらしいデコードを行うように再デコードを繰り返しながら表示します
様々な閾値は、前後の時間のデータの分布を見て決定したい

1. マイクで音を取得する
2. 音をモールス符号としてデコードする
   1. 高速フーリエ変換で周波数毎に分ける
   2. モールス信号として取得する周波数帯域を決定する
   3. 用いる周波数帯域の音量レベルの時系列データを取得する
   4. 音ありと音なしを分ける閾値を決定する
   5. 長音と短音、長音/単音の境界を分ける長さの閾値を決定する
   6. デコードする
3. 結果を表示する
   1. マイクで取得した音、デコードで使ったパラメータ、デコード結果などをcanvasでリアルタイム表示
      1. 現在の波形を表示
      2. 現在のスペクトルを表示 スペクトログラムの左端に、周波数軸を合わせて表示
         1. 縦軸が周波数
         2. 棒の長さが音量
      3. 高速フーリエ変換の結果に、用いた周波数帯域を表示したスペクトログラムを表示
         1. 縦軸が周波数
         2. 横軸が時間
      4. 音量レベルのグラフに、閾値として用いた値や、長音単音、文字境界、デコード結果のテキストなどを重ねて表示
   2. 結果をテキストで表示